<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org"
      xmlns:sec="http://www.thymeleaf.org/thymeleaf-extras-springsecurity4">
<head th:include="includes :: indexHead"></head>
<body th:inline="text" >
<div th:include="navbar :: navHome"></div>
<section>
    <nav class=" blue darken-2 center-align">
        <a class="btn waves-effect waves-light" href="/musician/search/">Search</a>
        <a class="waves-effect waves-light btn modal-trigger" href="#addMusicContent">Add Music</a>

    </nav>
</section>
<section class=" blue darken-2 profile">
    <div class="row">
        <div class=" col l2"><img class="circle responsive-img" th:src="@{../assets/images/pexels-guitar.jpeg}" alt=""/></div>
        <div class="col l2">
            <h5 class="black white-text name"  th:text="${musicianProfile.firstName} +' '+ ${musicianProfile.lastName}"></h5>
            <p class="black white-text"><i class="orange-text text-accent-4 material-icons">account_circle</i> [[${user.username}]]</p>
            <p class="black white-text"><i class="orange-text text-accent-4 material-icons">location_on</i> [[${musicianProfile.location}]]</p>
        </div>
        <div class="col l2">
            <p class="black white-text"><i class="orange-text text-accent-4 material-icons">email</i> [[${musicianProfile.musicianEmail}]] </p>
            <p class="black white-text"><i class="orange-text text-accent-4 material-icons">local_phone</i> [[${musicianProfile.musicianPhoneNumber}]]</p>
            <p class="black white-text"><i class="orange-text text-accent-4 material-icons">cake</i> [[${musicianProfile.birthDate}]]</p>
        </div>
        <div class="col l2">
            <p class="black white-text"><i class="orange-text text-accent-4 material-icons">star</i> [[${musicianProfile.musicianInstruments}]]</p>
        </div>

    </div>
</section>
<main th:inline="text" class="musicianProfile">
    <div class="row">
        <div class="col s3">




            <p><i class="orange-text text-accent-4 material-icons">bookmark</i> [[${musicianProfile.bio}]]</p>

        </div>
        <div class="col s6">

            <h1>My Music</h1>
            <div th:each="media : ${media}">
                <div class="row">
                    <i class="orange-text text-accent-4 material-icons">music_note</i>
                    <a  th:href="@{${media.media_url}}" target="_blank"  th:text="${media.title}"></a>
                    <a class="waves-effect waves-light modal-trigger" href="#mediaUpdate">
                        <i class="orange-text text-accent-4 material-icons">edit</i>
                    </a>
                    <a class="waves-effect waves-light modal-trigger" href="#mediaDelete">
                        <i class="orange-text text-accent-4 material-icons">delete</i>
                    </a>
                    <div th:include="modals :: mediaUpdate"></div>
                    <div th:include="modals :: mediaDelete"></div>
                </div>
                <h5>

                </h5>

                <div class="divider"></div>
            </div>
        </div>
        <div class="col s3">
            <h5>Gigs in the Area</h5>

            <div class="card" th:each="gig : ${gig}">
                    <div class="card-content">
                        <div class="row">
                            <div class="col s4">
                                <img class="localGigs" th:src="${gig.gigArt}" alt=""/>
                            </div>
                            <div class="col s8">
                                <p th:text="'When: '+${gig.gigStart}"></p>
                                <p th:text="'Type: '+${gig.gigType}"></p>
                            </div>
                        </div>
                    </div>
                    <div class="card-action">
                        <a class="btn" th:href="'/musician/gig/' + @{${gig.id}}">More Info</a>

                    </div>
            </div>

        </div>
    </div>

</main>
<div th:include="footer :: footer"></div>
<div th:include="modals :: musicianUpdate"></div>
<div th:include="modals :: createMedia"></div>
<span th:include="includes :: js"></span>

</body>
</html>